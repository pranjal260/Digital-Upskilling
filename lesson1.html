<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lesson 1 | What is Digital Payment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f3f4f6;
      padding: 20px;
      text-align: center;
    }

    header {
      margin-bottom: 30px;
    }

    video {
      width: 90%;
      max-width: 800px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    #completeBtn {
      margin-top: 20px;
      padding: 12px 24px;
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }

    #completeBtn:disabled {
      background-color: #a5b4fc;
      cursor: not-allowed;
    }

    #next {
      margin-top: 30px;
      display: none;
    }

    footer {
      margin-top: 50px;
      font-size: 0.9rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <header>
    <h2 id="heading">üí° What is Digital Payment?</h2>
    <p id="desc">Watch the full lesson in your selected language</p>
  </header>

  <main>
    <video id="lessonVideo" controls>
      <source id="videoSource" src="" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    <br />
    <button id="completeBtn" onclick="markDone()" disabled>‚úÖ Mark as Completed</button>

    <div id="next">
      <h3 id="doneText">üéâ Congratulations! You completed this lesson.</h3>
      <a href="digital-pay.html" id="backText">‚Üê Back to Lesson List</a>
    </div>
  </main>

  <footer>
    <p>üåê DigiSkill ¬© 2025 ‚Äî Empowering through Offline Learning</p>
  </footer>

  <script>
    const lang = localStorage.getItem("preferredLang") || "en";

    const videoSource = document.getElementById("videoSource");
    const video = document.getElementById("lessonVideo");
    const completeBtn = document.getElementById("completeBtn");
    const nextDiv = document.getElementById("next");

    // ‚úÖ Language-specific video path
    videoSource.src = `videos/what-is-digital-payment-${lang}.mp4`;
    video.load();

    // ‚úÖ Update headings according to language
    if (lang === "hi") {
      document.getElementById("heading").textContent = "üí° ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?";
      document.getElementById("desc").textContent = "‡§Ö‡§™‡§®‡•Ä ‡§ö‡•Å‡§®‡•Ä ‡§ó‡§à ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡§æ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§";
      document.getElementById("completeBtn").textContent = "‚úÖ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡§∞ ‡§≤‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ";
      document.getElementById("doneText").textContent = "üéâ ‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‡§Ø‡§π ‡§™‡§æ‡§† ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à‡•§";
      document.getElementById("backText").textContent = "‚Üê ‡§™‡§æ‡§† ‡§∏‡•Ç‡§ö‡•Ä ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Å";
    } else if (lang === "bn") {
      document.getElementById("heading").textContent = "üí° ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡ßÄ?";
      document.getElementById("desc").textContent = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§";
      document.getElementById("completeBtn").textContent = "‚úÖ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá";
      document.getElementById("doneText").textContent = "üéâ ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶™‡¶æ‡¶† ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§";
      document.getElementById("backText").textContent = "‚Üê ‡¶™‡¶æ‡¶† ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡¶Ø‡¶º ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®";
    } else if (lang === "pa") {
      document.getElementById("heading").textContent = "üí° ‡®°‡®ø‡®ú‡©Ä‡®ü‡®≤ ‡®≠‡©Å‡®ó‡®§‡®æ‡®® ‡®ï‡©Ä ‡®π‡©à?";
      document.getElementById("desc").textContent = "‡®Ü‡®™‡®£‡©Ä ‡®≠‡®æ‡®∏‡®º‡®æ ‡®µ‡®ø‡©±‡®ö ‡®™‡©Ç‡®∞‡®æ ‡®µ‡©Ä‡®°‡©Ä‡®ì ‡®¶‡©á‡®ñ‡©ã‡•§";
      document.getElementById("completeBtn").textContent = "‚úÖ ‡®™‡©Ç‡®∞‡®æ ‡®ï‡©Ä‡®§‡®æ ‡®ó‡®ø‡®Ü";
      document.getElementById("doneText").textContent = "üéâ ‡®µ‡®ß‡®æ‡®à ‡®π‡©ã! ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®á‡®π ‡®™‡®æ‡®† ‡®™‡©Ç‡®∞‡®æ ‡®ï‡®∞ ‡®≤‡®ø‡®Ü ‡®π‡©à‡•§";
      document.getElementById("backText").textContent = "‚Üê ‡®™‡®æ‡®† ‡®∏‡©Ç‡®ö‡©Ä ‡®§‡©á ‡®µ‡®æ‡®™‡®∏ ‡®ú‡®æ‡®ì";
    }

    // ‚úÖ Enable "Completed" button only when video ends
    video.addEventListener("ended", () => {
      completeBtn.disabled = false;
    });

    // ‚úÖ Validate before marking as complete
    function markDone() {
      if (!video.ended) {
        alert("‚ö†Ô∏è Please complete the video before marking it as done.");
        return;
      }
      alert("‚úÖ Lesson marked as completed!");
      nextDiv.style.display = "block";
    }
  </script>
  <script src="api.js"></script>

</body>
</html>
